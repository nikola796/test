/*
 * ************************************************************* *
 * Name       : eSelect                                          *
 * Date       : December 2011                                    *
 * Owner      : CreativeMilk                                     *
 * Url        : www.creativemilk.net                             *
 * Version    : 1.1                                              *
 * Updated    : 19/10/2012                                       *
 * Developer  : Mark                                             *
 * Dependency :                                                  *
 * Lib        : jQuery 1.7+                                      *
 * Licence    : NOT free                                         *
 * This is part of a themeforest file                            *
 * ************************************************************* *
 */

;(function(e,t,n,r){e.fn.eSelect=function(r){r=e.extend({},e.fn.eSelect.options,r);return this.each(function(){var i=e(this);var s="e-select-multiple-highlite";if("ontouchstart"in t||t.DocumentTouch&&n instanceof DocumentTouch){var o="click tap"}else{var o="click"}i.children("option").each(function(t){e(this).attr("data-select-id",t)});if(!i.parent(".e-select")){if(i.attr("multiple")||i.attr("size")){if(i.attr("size")){var u=i.attr("size");var a=u*30+1;var f='style="height:'+a+'px;"';var l="e-select-size"}else{var f="";var l=""}i.not(r.exclude).hide().wrap('<div class="e-select-multiple '+l+'" '+f+"/>").after('<div class="e-select-multiple-inner">'+"<ul>"+"</ul>"+"</div>"+'<div class="e-select-multiple-handle">'+"<span></span>"+"</div>").end().children("option").each(function(t){var n=e(this).attr("class");var r=e(this).text();if(e(this).is(":selected")){var i="e-select-multiple-highlite"}else{var i=""}e(this).parents(".e-select-multiple").children(".e-select-multiple-inner").children("ul").append('<li class="'+i+" "+n+'" data-select-id="'+t+'">'+r+"</li>")})}else{i.not(r.exclude).hide().wrap('<div class="e-select"/>').after('<div class="e-select-inner">'+'<div class="e-select-selected"></div><div class="e-select-trigger"><span></span></div>'+"</div>"+'<div class="e-select-options">'+"<ul>"+"</ul>"+"</div>").end().children("option").each(function(t){var n=e(this).attr("class");var r=e(this).text();if(e(this).is(":selected")){e(this).parents(".e-select").children(".e-select-inner").children(".e-select-selected").text(r)}e(this).parents(".e-select").children(".e-select-options").children("ul").append('<li class="'+n+'" data-select-id="'+t+'">'+r+"</li>")})}}e(n).on(o,this,function(t){if(!e(t.target).is(".e-select *")){e(".e-select-options").slideUp(r.speed)}});i.parents(".e-select").on(o,".e-select-inner",function(){var t=e(this).next(".e-select-options");if(t.is(":hidden")){e(".e-select-options").slideUp(r.speed);t.slideDown(r.speed)}else{t.slideToggle(r.speed)}});i.parents(".e-select, .e-select-size").on(o,"li",function(t){var n=e(this).attr("data-select-id");console.log(n);e(this).parents(".e-select").children(".e-select-inner").children(".e-select-selected").text(e(this).text()).parents(".e-select").find("select").children().removeAttr("selected").parent().children('option[data-select-id="'+n+'"]').attr("selected","selected").parents(".e-select").children(".e-select-options").slideUp(r.speed);e(this).parent().find("."+s).removeClass(s);e(this).addClass(s).parents(".e-select-size").find("select").children().removeAttr("selected").parent().children("option:contains("+e(this).text()+")").attr("selected","selected");if(typeof r.onSelect=="function"){r.onSelect.call(this)}});var c=i.parent(".e-select-multiple");var h=c.outerHeight();var p=c.children(".e-select-multiple-inner");var d=c.children(".e-select-multiple-handle").children();var v=p.outerHeight();var m=h/(v/h);d.height(m);d.draggable({axis:"y",containment:i.parent(),drag:function(){var e=d.position().top;p.css({top:-(e*(v/h))})}});c.not(".e-select-size").on(o,"li",function(){if(e(this).hasClass(s)){e(this).removeClass(s).parents(".e-select-multiple").find("option:contains("+e(this).text()+")").removeAttr("selected")}else{e(this).addClass(s).parents(".e-select-multiple").find("option:contains("+e(this).text()+")").attr("selected","selected")}if(typeof r.onSelect=="function"){r.onSelect.call(this)}})})};e.fn.eSelect.options={exclude:"",speed:200,onSelect:function(){}}})(jQuery,window,document)