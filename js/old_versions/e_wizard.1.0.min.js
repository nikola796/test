/*
 * ************************************************************* *
 * Name       : eWizard                                          *
 * Date       : October 2012                                     *
 * Owner      : CreativeMilk                                     *
 * Url        : www.creativemilk.net                             *
 * Version    : 1.0                                              *
 * Updated    : --/--/----                                       *
 * Developer  : Mark                                             *
 * Dependency :                                                  *
 * Lib        : jQuery 1.7+                                      *
 * Licence    : NOT free                                         *
 * This is part of a themeforest file                            *
 * ************************************************************* *
 */
  
;(function(a,b,c,d){a.fn.eWizard=function(b){b=a.extend({},a.fn.eWizard.options,b);return this.each(function(){function i(a){var b=100/g*a+100/g;e.find(".e-wizard-progress").find("span").css({width:b+"%"})}function j(b){f.removeClass("e-wizard-active");f.each(function(c,d){if(c<=b){a(this).addClass("e-wizard-active")}})}function k(a){if(b.buttonNavigation===true){if(a==0){e.find(".e-wizard-prev").addClass("e-wizard-disabled")}else{e.find(".e-wizard-prev").removeClass("e-wizard-disabled")}if(a+1==g){e.find(".e-wizard-next").addClass("e-wizard-disabled")}else{e.find(".e-wizard-next").removeClass("e-wizard-disabled")}}}function l(a,c){if(!a.parents("."+h).length){var e=a.parent("div");if(c===d){var f=b.labelError}else{var f=c}if(e.hasClass("e-checkbox")||e.hasClass("e-select")||e.hasClass("e-select-multiple")){if(e.hasClass("e-checkbox")){var g="width:auto;float:left;"}else{var g=""}a.parent().wrap('<div class="'+h+' clearfix" style="'+g+'"/>').parent("."+h).prepend("<span>"+f+"<span></span></span>")}else{a.wrap('<div class="'+h+' clearfix"/>').parent("."+h).prepend("<span>"+f+"<span></span></span>")}}}function m(a){var b=a.parents("."+h);if(b.length){b.children("span").remove().end().replaceWith(b.contents())}}function n(b){a("."+h).children("span").show();c.children("fieldset:eq("+b+")").find("input:not([type=submit]), select, textarea").each(function(){var b=a(this);var e=b.data("validation-type");var f=b.data("validation-label");var g=b.data("validation-match-value");var h=b.data("validation-minimum");var i=b.data("validation-maximum");var g=b.data("validation-match");if(h===d){var j=0}else{var j=h-1}if(i===d){var k=1e7}else{var k=i}switch(e){case"present":if(b.is("[type=checkbox]")){if(b.is(":checked")){m(b)}else{l(b,f)}}else if(b.is("select")){if(a.trim(b.val()).length>0){m(b)}else{l(b,f)}}else{if(a.trim(b.val()).length>j&&b.val().length<k){m(b)}else{l(b,f)}}break;case"email":var n=b.val();var o=/^[a-zA-Z0-9]+[a-zA-Z0-9_.-]+[a-zA-Z0-9_-]+@[a-zA-Z0-9]+[a-zA-Z0-9.-]+[a-zA-Z0-9]+.[a-z]{2,4}$/;if(o.test(n)){m(b)}else{l(b,f)}break;case"url":var n=b.val();var o=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;if(o.test(n)){m(b)}else{l(b,f)}break;case"numbers":var n=b.val();var o=/^[0+9]$/;if(a.trim(b.val()).length>j&&b.val().length<k&&o.test(n)){m(b)}else{l(b,f)}break;case"date":var n=b.val();var o=/^[0-9]{2}\-[0-9]{2}\-[0-9]{4}$/i;if(o.test(n)){m(b)}else{l(b,f)}break;case"letters":var n=b.val();var o=/^[A-Za-z ]+$/;if(a.trim(b.val()).length>j&&b.val().length<k&&o.test(n)){m(b)}else{l(b,f)}break;case"regex":var n=b.val();var o=b.attr("valdiation-regex");if(o.test(n)){m(b)}else{l(b,f)}break;case"password":if(a.trim(b.val()).length>j&&b.val().length<k){if(b.val()==c.find('[data-validation-type="password"]').not(b).val()){m(b)}else{l(b,f)}}else{l(b,f)}break;case"match":if(b.val()==g){m(b)}else{l(b,f)}break;case"ip":var n=b.val();var o=/\b(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/;if(o.test(n)){m(b)}else{l(b,f)}break}})}function o(a){c.children("fieldset").hide().end().children("fieldset:eq("+a+")").show()}var c=a(this);var e=c.parents(".e-wizard");var f=e.find(".e-wizard-steps").children("li");var g=f.length;var h="e-wizard-errorlabel";e.attr("data-wizard-step",0);j(0);if(b.buttonNavigation===true){e.append("<footer>"+'<div class="e-wizard-ctrls">'+'<a href="#" class="button-icon-text e-wizard-prev"><span class="arrow-left-10 plix-10"></span>Prev</a>'+'<a href="#" class="button-text-icon e-wizard-next">Next <span class="arrow-right-10 plix-10"></span></a>'+"</div>"+"</footer>");f.addClass("cursor-pointer");e.find(".e-wizard-prev").addClass("e-wizard-disabled")}if(b.showProgressbar===true){e.children("header").append('<div class="e-wizard-progress">'+"<div>"+"<span></span>"+"</div>"+"</div>");i(e.attr("data-wizard-step"))}if(b.stepNavigation===true){f.click(function(b){var d=a(this).index();var f=e.attr("data-wizard-step");n(f);if(!c.children("fieldset:eq("+f+")").find("."+h).length||d<=f){j(d);e.attr("data-wizard-step",d);o(d);i(d);k(d);if(typeof o_onSwitch=="function"){o_onSwitch.call(this)}}b.preventDefault()})}if(b.buttonNavigation===true){e.on("click",".e-wizard-prev",function(b){if(!a(b.target).is(".e-wizard-disabled")){var d=parseInt(e.attr("data-wizard-step"));var f=d-1;n(f-1);if(!c.children("fieldset:eq("+(f-1)+")").find("."+h).length||f<=d){e.attr("data-wizard-step",f);o(f);i(f);j(f);k(f);if(typeof o_onSwitch=="function"){o_onSwitch.call(this)}}}b.preventDefault()}).on("click",".e-wizard-next",function(b){if(!a(b.target).is(".e-wizard-disabled")){var d=parseInt(e.attr("data-wizard-step"));var f=d+1;n(f-1);if(!c.children("fieldset:eq("+(f-1)+")").find("."+h).length||f<=d){e.attr("data-wizard-step",f);o(f);i(f);j(f);k(f);if(typeof o_onSwitch=="function"){o_onSwitch.call(this)}}}b.preventDefault()})}c.submit(function(a){n(g-1);if(!c.children("fieldset").find("."+h).length){if(typeof o_onSubmit=="function"){o_onSubmit.call(this)}}else{return false}})})};a.fn.eWizard.options={showProgressbar:true,nextLabel:"next",prevLabel:"prev",buttonNavigation:true,stepNavigation:true,labelError:"This field is required!",onSwitch:function(){},onSubmit:function(){}}})(jQuery,window,document)