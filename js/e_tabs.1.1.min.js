/*
 * ************************************************************* *
 * Name       : eTabs                                            *
 * Date       : March 2011                                       *
 * Owner      : CreativeMilk                                     *
 * Url        : www.creativemilk.net                             *
 * Version    : 1.2                                              *
 * Updated    : 05/03/2013                                       *
 * Developer  : Mark                                             *
 * Dependency :                                                  *
 * Lib        : jQuery 1.4+                                      *
 * Licence    : NOT free                                         *
 * This is part of a themeforest file                            *
 * ************************************************************* *
 */

;(function(e,t,n,r){e.fn.eTabs=function(r){r=e.extend({},e.fn.eTabs.options,r);return this.each(function(){function m(t){var n=t-1;var r=0;a.each(function(){if(r==n){e(this).addClass(l)}else{e(this).removeClass(l)}r++})}function g(t){var n=t-1;var r=0;s.each(function(){if(r==n){e(this).show()}r++})}var i=e(this);var s=i.find("div.etabs-content");var o=i.find("div.etabs-content:first");var u=i.find("ul.etabs:first");var a=u.children("li");var f=a.children("a");var l="etabs-active";var c=u.children("li:first");var h=i.attr("id");var p=0;if("ontouchstart"in t||t.DocumentTouch&&n instanceof DocumentTouch){var d="click tap"}else{var d="click"}var v=!!function(){var e,t=+(new Date);try{localStorage.setItem(t,t);e=localStorage.getItem(t)==t;localStorage.removeItem(t);return e}catch(n){}}()&&localStorage;if(!h){alert("The tab plugin can only be used with a ID selector, please change this!")}if(typeof r.onSwtart=="function"){r.onStart.call(this)}s.hide().addClass("clearfix");if(v&&r.storeTab===true){var y=localStorage.getItem("e_tabs_"+location.pathname+"_"+h)}else{var y=1}if(r.selected==1&&y==1){c.addClass(l).show();o.show()}else{if(v&&r.storeTab==true&&y!=null){m(y);g(y)}else{m(r.selected);g(r.selected)}}f.each(function(){var t=e(this).data("tab-source");var n=e(this).attr("href");if(t&&!e.trim(e(n).html()).length){e(n).load(t,function(t,r,i){if(r=="error"){e(n).html(i.status+" "+i.statusText)}})}});a.on(d,"a",function(t){var n=e(this).attr("href");f.parent("li").removeClass(l+" etabs-open-active");e(this).parent("li").addClass(l+" etabs-open-active");s.not(n).hide();if(e(n).is(":hidden")){e(n).fadeIn(1,function(){if(typeof r.onSwitch=="function"){r.onSwitch.call(this)}})}if(v&&r.storeTab===true){i.find("li").each(function(t){if(e(this).hasClass(l)){localStorage.setItem("e_tabs_"+location.pathname+"_"+h,t+1)}})}t.preventDefault()});if(r.responsive===true){a.each(function(){p+=e(this).width()});function b(){u.children("."+l).addClass("etabs-open-active");var t=i.children("div.etabs-to-select").length;if(p>=u.outerWidth()-10){if(t==0){u.wrap('<div class="etabs-to-select"/>').after('<div class="etabs-arrow-left"><span></span></div><div class="etabs-arrow-right"><span></span></div>')}a.hide().css({width:u.outerWidth()-10});u.children("."+l).show()}else{if(t){a.removeAttr("style").show();u.unwrap();e(".etabs-arrow-left, .etabs-arrow-right ").remove();i.find(".etabs-open-active").removeClass("etabs-open-active")}}}i.on(d,".etabs-arrow-left",function(e){var t=u.children("li.etabs-open-active");if(t.prev("li").length){u.children("li.etabs-open-active").hide().removeClass("etabs-open-active").prev("li").show().addClass("etabs-open-active")}});i.on(d,".etabs-arrow-right",function(e){var t=u.children("li.etabs-open-active");if(t.next("li").length){u.children("li.etabs-open-active").hide().removeClass("etabs-open-active").next("li").show().addClass("etabs-open-active")}});b();e(t).bind("resize","ready",function(){b()})}})};e.fn.eTabs.options={selected:1,storeTab:true,responsive:false,onSwitch:function(){},onSwitch:function(){}}})(jQuery,window,document)